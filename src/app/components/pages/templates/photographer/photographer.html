<div class="card-container" [style]="getCardStyle()">
  <div class="card">

    @if (getBackgroundImageUrl()) {
      <img [ngSrc]="getBackgroundImageUrl()!" fill priority class="background-image" />
      <div class="background-overlay"></div>
    }

    <div class="photographer-container">

      <div class="photographer-header">
        <div class="lens-frame" *ngIf="data.logo">
          <img [ngSrc]="data.logo" width="180" height="180" class="profile-img" />
        </div>

        <h1 class="photographer-name">{{ data.nomeCartao }}</h1>
        <span class="photographer-tag">Fotógrafo Profissional</span>
      </div>

      <!-- CONTACT GRID -->
      <div class="contact-grid">

        <!-- INSTAGRAM -->
        <button class="contact-card" *ngIf="data.instagram"
                (click)="openLink('https://instagram.com/' + cleanUrl(data.instagram))">
          <div class="contact-icon"><mat-icon>camera_alt</mat-icon></div>
          <div>
            <div class="contact-label">Instagram</div>
            <div class="contact-value">@{{ cleanUrl(data.instagram) }}</div>
          </div>
        </button>

        <!-- WHATSAPP -->
        <button class="contact-card" *ngIf="data.whatsapp"
                (click)="openLink('https://wa.me/' + cleanWhatsapp(data.whatsapp))">
          <div class="contact-icon"><mat-icon>chat</mat-icon></div>
          <div>
            <div class="contact-label">WhatsApp</div>
            <div class="contact-value">{{ formatPhone(data.whatsapp) }}</div>
          </div>
        </button>

        <!-- PIX -->
        <button class="contact-card" *ngIf="data.chavePix"
                (click)="copiarPix(data.chavePix)">
          <div class="contact-icon"><mat-icon>pix</mat-icon></div>
          <div>
            <div class="contact-label">Chave Pix</div>
            <div class="contact-value">{{ data.chavePix }}</div>
          </div>
        </button>

        <!-- EMAIL -->
        <button class="contact-card" *ngIf="data.email"
                (click)="openLink('mailto:' + data.email)">
          <div class="contact-icon"><mat-icon>email</mat-icon></div>
          <div>
            <div class="contact-label">Email</div>
            <div class="contact-value">{{ data.email }}</div>
          </div>
        </button>

        <!-- SITE -->
        <button class="contact-card" *ngIf="data.site"
                (click)="openLink(ensureHttp(data.site))">
          <div class="contact-icon"><mat-icon>language</mat-icon></div>
          <div>
            <div class="contact-label">Portfólio</div>
            <div class="contact-value">{{ cleanUrl(data.site) }}</div>
          </div>
        </button>

      </div>


    </div>
  </div>
</div>
